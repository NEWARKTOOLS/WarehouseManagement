{% extends "base.html" %}

{% block title %}Reports{% endblock %}
{% block mobile_title %}Reports{% endblock %}

{% block content %}
<div class="container-fluid px-3 px-md-4">
    <div class="page-header">
        <h1><i class="bi bi-graph-up me-2"></i>Reports</h1>
    </div>

    <!-- Inventory Reports -->
    <div class="mb-4">
        <h5 class="text-muted mb-3"><i class="bi bi-box-seam me-1"></i>Inventory Reports</h5>
        <div class="row g-3">
            <div class="col-12 col-sm-6 col-lg-3">
                <a href="{{ url_for('reports.stock_on_hand') }}" class="card h-100 text-decoration-none border-0 shadow-sm report-card">
                    <div class="card-body text-center py-4">
                        <div class="mb-3">
                            <span class="d-inline-flex align-items-center justify-content-center rounded-circle bg-primary bg-opacity-10" style="width:56px;height:56px;">
                                <i class="bi bi-box fs-3 text-primary"></i>
                            </span>
                        </div>
                        <h6 class="card-title mb-1">Stock on Hand</h6>
                        <p class="card-text text-muted small mb-0">Current inventory levels across all locations with category and type filters.</p>
                    </div>
                </a>
            </div>
            <div class="col-12 col-sm-6 col-lg-3">
                <a href="{{ url_for('reports.low_stock') }}" class="card h-100 text-decoration-none border-0 shadow-sm report-card">
                    <div class="card-body text-center py-4">
                        <div class="mb-3">
                            <span class="d-inline-flex align-items-center justify-content-center rounded-circle bg-danger bg-opacity-10" style="width:56px;height:56px;">
                                <i class="bi bi-exclamation-triangle fs-3 text-danger"></i>
                            </span>
                        </div>
                        <h6 class="card-title mb-1">Low Stock</h6>
                        <p class="card-text text-muted small mb-0">Items below reorder level that need restocking attention.</p>
                    </div>
                </a>
            </div>
            <div class="col-12 col-sm-6 col-lg-3">
                <a href="{{ url_for('reports.stock_value') }}" class="card h-100 text-decoration-none border-0 shadow-sm report-card">
                    <div class="card-body text-center py-4">
                        <div class="mb-3">
                            <span class="d-inline-flex align-items-center justify-content-center rounded-circle bg-success bg-opacity-10" style="width:56px;height:56px;">
                                <i class="bi bi-currency-pound fs-3 text-success"></i>
                            </span>
                        </div>
                        <h6 class="card-title mb-1">Stock Valuation</h6>
                        <p class="card-text text-muted small mb-0">Total value of stock on hand with breakdown by item and category.</p>
                    </div>
                </a>
            </div>
            <div class="col-12 col-sm-6 col-lg-3">
                <a href="{{ url_for('reports.stock_movements') }}" class="card h-100 text-decoration-none border-0 shadow-sm report-card">
                    <div class="card-body text-center py-4">
                        <div class="mb-3">
                            <span class="d-inline-flex align-items-center justify-content-center rounded-circle bg-info bg-opacity-10" style="width:56px;height:56px;">
                                <i class="bi bi-arrow-left-right fs-3 text-info"></i>
                            </span>
                        </div>
                        <h6 class="card-title mb-1">Stock Movements</h6>
                        <p class="card-text text-muted small mb-0">History of all stock receives, moves, adjustments and dispatches.</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- Production Reports -->
    <div class="mb-4">
        <h5 class="text-muted mb-3"><i class="bi bi-gear me-1"></i>Production Reports</h5>
        <div class="row g-3">
            <div class="col-12 col-sm-6 col-lg-3">
                <a href="{{ url_for('reports.production_summary') }}" class="card h-100 text-decoration-none border-0 shadow-sm report-card">
                    <div class="card-body text-center py-4">
                        <div class="mb-3">
                            <span class="d-inline-flex align-items-center justify-content-center rounded-circle bg-warning bg-opacity-10" style="width:56px;height:56px;">
                                <i class="bi bi-gear fs-3 text-warning"></i>
                            </span>
                        </div>
                        <h6 class="card-title mb-1">Production Summary</h6>
                        <p class="card-text text-muted small mb-0">Completed production jobs with yield analysis and rejection rates.</p>
                    </div>
                </a>
            </div>
            <div class="col-12 col-sm-6 col-lg-3">
                <a href="{{ url_for('reports.machine_utilization') }}" class="card h-100 text-decoration-none border-0 shadow-sm report-card">
                    <div class="card-body text-center py-4">
                        <div class="mb-3">
                            <span class="d-inline-flex align-items-center justify-content-center rounded-circle bg-secondary bg-opacity-10" style="width:56px;height:56px;">
                                <i class="bi bi-cpu fs-3 text-secondary"></i>
                            </span>
                        </div>
                        <h6 class="card-title mb-1">Machine Utilization</h6>
                        <p class="card-text text-muted small mb-0">Machine status overview with active and completed job counts.</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- Order Reports -->
    <div class="mb-4">
        <h5 class="text-muted mb-3"><i class="bi bi-cart me-1"></i>Order Reports</h5>
        <div class="row g-3">
            <div class="col-12 col-sm-6 col-lg-3">
                <a href="{{ url_for('reports.order_summary') }}" class="card h-100 text-decoration-none border-0 shadow-sm report-card">
                    <div class="card-body text-center py-4">
                        <div class="mb-3">
                            <span class="d-inline-flex align-items-center justify-content-center rounded-circle bg-primary bg-opacity-10" style="width:56px;height:56px;">
                                <i class="bi bi-cart fs-3 text-primary"></i>
                            </span>
                        </div>
                        <h6 class="card-title mb-1">Order Summary</h6>
                        <p class="card-text text-muted small mb-0">Sales order analysis by status, value and top customers.</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- Mould Reports -->
    <div class="mb-4">
        <h5 class="text-muted mb-3"><i class="bi bi-tools me-1"></i>Mould Reports</h5>
        <div class="row g-3">
            <div class="col-12 col-sm-6 col-lg-3">
                <a href="{{ url_for('reports.mould_maintenance') }}" class="card h-100 text-decoration-none border-0 shadow-sm report-card">
                    <div class="card-body text-center py-4">
                        <div class="mb-3">
                            <span class="d-inline-flex align-items-center justify-content-center rounded-circle bg-danger bg-opacity-10" style="width:56px;height:56px;">
                                <i class="bi bi-tools fs-3 text-danger"></i>
                            </span>
                        </div>
                        <h6 class="card-title mb-1">Maintenance Due</h6>
                        <p class="card-text text-muted small mb-0">Moulds with overdue or upcoming maintenance schedules.</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- Quality Reports -->
    <div class="mb-4">
        <h5 class="text-muted mb-3"><i class="bi bi-clipboard-check me-1"></i>Quality Reports</h5>
        <div class="row g-3">
            <div class="col-12 col-sm-6 col-lg-3">
                <a href="{{ url_for('reports.quality_ncr') }}" class="card h-100 text-decoration-none border-0 shadow-sm report-card">
                    <div class="card-body text-center py-4">
                        <div class="mb-3">
                            <span class="d-inline-flex align-items-center justify-content-center rounded-circle bg-danger bg-opacity-10" style="width:56px;height:56px;">
                                <i class="bi bi-clipboard-x fs-3 text-danger"></i>
                            </span>
                        </div>
                        <h6 class="card-title mb-1">Non-Conformances</h6>
                        <p class="card-text text-muted small mb-0">NCR log with investigation status and resolution tracking.</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .report-card {
        transition: transform 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
    .report-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.12) !important;
    }
    .report-card .card-title {
        color: #212529;
    }
</style>
{% endblock %}
